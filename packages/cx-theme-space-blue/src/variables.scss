@use "sass:math";
@use "sass:map";
@use "sass:color";

// =============================================================================
// THEME-SPECIFIC VARIABLES (must be defined BEFORE @forward)
// =============================================================================

// Primary colors
$cx-theme-primary-color: #4dcbac !default;
$cx-theme-primary-color-light: color.adjust($cx-theme-primary-color, $lightness: 5%);
$cx-theme-primary-color-dark: color.adjust($cx-theme-primary-color, $lightness: -8%);
$cx-theme-primary-text-color: hsla(165, 49%, 75%, 0.85);

$cx-theme-secondary-color: #618dd1;
$cx-theme-secondary-color-light: color.adjust($cx-theme-secondary-color, $lightness: 2%);
$cx-theme-secondary-color-dark: color.adjust($cx-theme-secondary-color, $lightness: -8%);

$cx-theme-danger-color: #cc4141 !default;
$cx-theme-danger-color-light: color.adjust($cx-theme-danger-color, $lightness: 3%) !default;

$cx-theme-accent-color: #d0da7a;
$cx-theme-accent-color-dark: #fc8c64;

$cx-theme-warning-color: #e2a067;

$cx-theme-info-color: #5cc5da;
$cx-theme-info-color-dark: color.adjust($cx-theme-info-color, $lightness: -15%);

$cx-theme-success-color: #3bab73;
$cx-theme-success-color-dark: #244232;

// Background colors
$cx-theme-default-background-color: #263340 !default;
$cx-theme-default-background-color-light: #303f50 !default;
$cx-theme-default-background-color-lighter: #46576d !default;
$cx-theme-default-background-color-dark: hsl(212, 22%, 16%) !default;

// Text colors
$cx-theme-default-color: rgba(#fff, 0.77) !default;
$cx-theme-default-color-light: #fff;
$cx-theme-default-color-dark: $cx-theme-default-background-color;
$cx-theme-disabled-text: rgba(255, 255, 255, 0.2);

// Border colors
$cx-theme-default-border-color-light: rgba(#fff, 0.2);

// Form
$cx-theme-default-input-background-color: rgba(255, 255, 255, 0.12) !default;
$cx-theme-error-input-background-color: color.mix($cx-theme-danger-color, $cx-theme-default-background-color-dark, 60%);
$cx-theme-form-container-background-color: rgba(#fff, 0.1);
$cx-theme-transparent-form-field-background-color: rgba(#fff, 0.2);

// Grid
$cx-theme-grid-secondary-color: color.adjust($cx-theme-default-background-color-dark, $lightness: -3%) !default;
$cx-theme-grid-editable-cell-background-color: rgba(255, 211, 145, 0.1);

// Tab
$cx-theme-bottom-tab-background-color: color.adjust($cx-theme-default-background-color-dark, $lightness: 9%);

// Box shadow
$cx-theme-primary-box-shadow: 0 0 1px 1px rgba(77, 144, 254, 0.8);

// Window header
$cx-theme-default-window-header-background: $cx-theme-default-background-color-lighter;

// Section (theme-specific, not in core)
$cx-theme-default-section-background: $cx-theme-default-background-color-light !default;
$cx-theme-default-section-box-shadow: none !default;

// =============================================================================
// Forward cx/src/variables with theme overrides
// =============================================================================
@forward "cx/src/variables" with (
   // Global
   $cx-default-font-size: 13px !default,
   $cx-default-font-family: ("Open Sans", sans-serif) !default,
   $cx-default-color: $cx-theme-default-color !default,
   $cx-default-border-color: $cx-theme-default-background-color-dark !default,
   $cx-default-border-radius: 0 !default,

   // Box
   $cx-default-box-line-height: 16px !default,
   $cx-default-box-padding: 8px !default,

   // Button
   $cx-default-button-color: $cx-theme-default-color !default,
   $cx-default-button-font-weight: 600 !default,
   $cx-default-button-border-width: 0 !default,
   $cx-default-button-border-radius: 0 !default,
   $cx-default-button-padding: 10px 20px !default,
   $cx-default-button-box-shadow: none !default,

   // Tooltip
   $cx-tooltip-background-color: $cx-theme-default-background-color-lighter !default,
   $cx-tooltip-border-color: transparent !default,
   $cx-tooltip-background-color-error: $cx-theme-danger-color-light !default,

   // Grid
   $cx-default-grid-header-font-size: 13px !default,
   $cx-default-grid-header-color: $cx-theme-primary-text-color !default,
   $cx-default-grid-header-font-weight: 600 !default,
   $cx-default-grid-header-background-color: #3c4a5d !default,
   $cx-default-grid-header-border-color: $cx-theme-default-background-color-dark !default,
   $cx-default-grid-header-box-shadow: null !default,
   $cx-default-grid-header-padding: 8px !default,
   $cx-default-grid-data-padding: 8px !default,
   $cx-default-grid-data-background-color: color.adjust($cx-theme-default-background-color, $lightness: 3%) !default,
   $cx-default-grid-data-line-height: 18px !default,
   $cx-default-grid-data-font-weight: 600 !default,
   $cx-default-grid-data-border-color: transparent !default,
   $cx-default-grid-border-color: transparent !default,
   $cx-default-grid-data-alternate-background-color: transparent !default,
   $cx-default-dragclone-background-color: $cx-theme-default-background-color-light !default,

   // Window
   $cx-default-window-header-padding: 10px 20px !default,
   $cx-default-window-header-font-size: 18px !default,
   $cx-default-window-background-color: $cx-theme-default-background-color-lighter !default,

   // Toast
   $cx-default-toast-background-color: color.adjust($cx-theme-default-background-color-light, $lightness: 10%) !default,
   $cx-default-toast-color: $cx-theme-default-color !default,
   $cx-default-toast-box-shadow: none !default,
   $cx-default-toast-padding: 8px 16px !default,

   // Form
   $cx-default-input-background-color: $cx-theme-default-input-background-color !default,
   $cx-default-input-border-color: transparent !default,
   $cx-default-input-border-radius: 0 !default,
   $cx-default-input-color: $cx-theme-default-color !default,
   $cx-default-input-placeholder-color: rgba(255, 255, 255, 0.35) !default,
   $cx-default-empty-text-color: rgba(255, 255, 255, 0.35) !default,

   // Label
   $cx-default-label-font-size: 12px !default,
   $cx-default-label-font-weight: 600 !default,
   $cx-default-label-color: $cx-theme-default-color !default,

   // DateTimePicker
   $cx-default-datetimepicker-border-color: $cx-theme-default-background-color-light !default,
   $cx-default-datetimepicker-background-color: $cx-theme-default-background-color-lighter !default,
   $cx-default-wheel-clip-border-color: color.adjust($cx-theme-primary-color, $lightness: -15%) !default,
   $cx-default-wheel-clip-border-width: 2px !default,
   $cx-default-wheel-clip-border-radius: 0 !default,
   $cx-default-wheel-clip-background-color: $cx-theme-default-background-color-lighter !default,

   // Lookup field tag
   $cx-default-input-tag-font-size: 12px !default,
   $cx-default-input-tag-border-radius: 5px !default,
   $cx-default-input-tag-spacing: 4px !default,

   // Switch
   $cx-default-switch-axis-background-color: $cx-theme-default-background-color-dark !default,
   $cx-default-switch-range-background-color: color.adjust($cx-theme-primary-color, $lightness: -10%) !default,
   $cx-default-switch-handle-background-color: $cx-theme-default-background-color-lighter !default,
   $cx-default-switch-handle-border-color: $cx-theme-default-background-color-lighter !default,
   $cx-default-switch-handle-box-shadow: 0 3px 8px 2px rgba(0, 0, 0, 0.05) !default,

   // Checkbox
   $cx-default-checkbox-size: 18px !default,
   $cx-default-checkbox-color: $cx-theme-primary-color !default,
   $cx-default-checkbox-border-color: transparent !default,

   // Radio
   $cx-default-radio-size: 16px !default,
   $cx-default-radio-color: $cx-theme-primary-color !default,

   // Slider
   $cx-default-slider-axis-background-color: $cx-theme-default-background-color-lighter !default,
   $cx-default-slider-range-background-color: $cx-theme-primary-color !default,

   // Progressbar
   $cx-default-progressbar-height: 12px !default,
   $cx-default-progressbar-font-size: 10px !default,
   $cx-default-progressbar-color: #fff !default,
   $cx-default-progressbar-background-color: $cx-theme-default-border-color-light !default,
   $cx-default-progressbar-border-width: 0 !default,
   $cx-default-progressbar-indicator-background-color: color.adjust($cx-theme-primary-color, $lightness: -10%) !default,

   // List
   $cx-default-list-item-padding: 10px 15px !default,

   // Calendar
   $cx-default-calendar-background-color: $cx-theme-default-background-color-dark !default,
   $cx-default-calendar-border-width: 0 !default,
   $cx-default-calendar-border-radius: 0 !default,
   $cx-default-calendar-header-font-size: 15px !default,
   $cx-default-calendar-header-font-weight: 600 !default,
   $cx-default-calendar-day-font-size: 11px !default,
   $cx-default-calendar-day-border-radius: 50% !default,

   // Cover
   $cx-default-cover-background-color: $cx-theme-default-background-color-dark !default,

   // Chart palette
   $cx-default-palette-fill-whiten: 0% !default,
   $cx-default-palette-fill-blacken: 10% !default,
   $cx-default-palette-fill-hover-whiten: 10% !default,
   $cx-default-palette-fill-hover-blacken: 0% !default,
   $cx-default-palette-fill-selected-whiten: 20% !default,
   $cx-default-palette-fill-selected-blacken: 0% !default,
   $cx-default-palette-fill-disabled-whiten: 0% !default,
   $cx-default-palette-stroke-whiten: 35% !default,
   $cx-default-palette-stroke-blacken: 35% !default,
   $cx-default-palette-colors: (hsl(178, 51%, 38%) hsl(181, 59%, 45%) hsl(170, 65%, 55%) hsl(170, 78%, 72%)
      hsl(152, 55%, 41%) hsl(152, 65%, 55%) hsl(120, 55%, 67%) hsl(122, 69%, 74%) hsl(63, 49%, 47%) hsl(63, 59%, 57%)
      hsl(45, 65%, 45%) hsl(45, 94%, 63%) hsl(359, 39%, 48%) hsl(354, 61%, 50%) hsl(337, 63%, 49%) hsl(337, 53%, 77%)
      // pos/neg colors
      hsl(354, 68%, 54%) hsl(132, 59%, 49%)) !default
);

// Use cx variables for derived values
@use "cx/src/variables" as *;

// =============================================================================
// THEME-SPECIFIC DERIVED VARIABLES (for use in maps and widgets)
// =============================================================================

$cx-theme-section-header-font-weight: $cx-default-font-size !default;

// Expose default-named variables from @forward for use in widgets
$cx-default-section-background: $cx-theme-default-section-background !default;
$cx-default-section-box-shadow: $cx-theme-default-section-box-shadow !default;
