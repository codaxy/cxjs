---
interface Props {
  type?: "info" | "warning" | "danger";
  title?: string;
}

const { type = "info", title } = Astro.props;

const styles = {
  info: {
    bg: "bg-blue-500/10",
    border: "border-blue-500/30",
    icon: "text-blue-500",
    title: "text-blue-600 dark:text-blue-400",
  },
  warning: {
    bg: "bg-amber-500/10",
    border: "border-amber-500/30",
    icon: "text-amber-500",
    title: "text-amber-600 dark:text-amber-400",
  },
  danger: {
    bg: "bg-red-500/10",
    border: "border-red-500/30",
    icon: "text-red-500",
    title: "text-red-600 dark:text-red-400",
  },
};

const s = styles[type];

const defaultTitles = {
  info: "Note",
  warning: "Warning",
  danger: "Danger",
};

const displayTitle = title || defaultTitles[type];
---

<div class={`my-4 p-6 pb-2 rounded-lg border ${s.bg} ${s.border}`}>
  <div class={`flex items-center gap-2 font-semibold mb-2 leading-tight ${s.title}`}>
    {type === "info" && (
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <circle cx="12" cy="12" r="10"></circle>
        <path d="M12 16v-4"></path>
        <circle cx="12" cy="8" r="0.5" fill="currentColor"></circle>
      </svg>
    )}
    {type === "warning" && (
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
        <line x1="12" y1="9" x2="12" y2="13"></line>
        <circle cx="12" cy="17" r="0.5" fill="currentColor"></circle>
      </svg>
    )}
    {type === "danger" && (
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="15" y1="9" x2="9" y2="15"></line>
        <line x1="9" y1="9" x2="15" y2="15"></line>
      </svg>
    )}
    {displayTitle}
  </div>
  <div class="text-muted-foreground text-sm">
    <slot />
  </div>
</div>
